# ============================================================================
# .env.prod - Production Environment Configuration
# ============================================================================
# CRITICAL: Update all values before deploying to production
# SECURITY: Never commit this file to version control
#
# Template Variables (REQUIRED):
#   ${...} indicates required value to set
#   Do not use placeholder values in production

# ============================================================================
# ENVIRONMENT
# ============================================================================
NODE_ENV=production
PYTHON_ENV=production
LOG_LEVEL=warn

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL 15 Alpine - Production Settings
DB_USER=nsi_prod_user
DB_PASSWORD=${DB_PASSWORD_PROD:?Production database password required}
DB_NAME=negative_space_prod
DB_HOST=postgres
DB_PORT=5432

# ============================================================================
# REDIS CACHE - Production Settings
# ============================================================================
# Redis 7 Alpine with AOF persistence and authentication
REDIS_URL=redis://:${REDIS_PASSWORD:?Production Redis password required}@redis:6379
REDIS_PASSWORD=${REDIS_PASSWORD:?Production Redis password required}
REDIS_MAX_MEMORY=512mb

# ============================================================================
# API CONFIGURATION - Production
# ============================================================================
PORT=3000
PYTHON_PORT=8000
JWT_SECRET=${JWT_SECRET:?Production JWT secret required}
JWT_EXPIRE=7d
CORS_ORIGIN=${CORS_ORIGIN:-https://negative-space.local}
API_RATE_LIMIT=1000
MAX_FILE_SIZE=104857600

# ============================================================================
# SERVICE URLS - Production
# ============================================================================
PYTHON_SERVICE_URL=http://python_service:8000
REACT_APP_API_URL=https://negative-space.local/api
VITE_API_BASE_URL=https://negative-space.local/api

# ============================================================================
# FRONTEND - Production
# ============================================================================
NODE_ENV=production
REACT_APP_API_URL=https://negative-space.local/api

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
PROMETHEUS_ENABLED=true
GRAFANA_PASSWORD=${GRAFANA_PASSWORD:?Grafana admin password required}
GRAFANA_USER=admin
GRAFANA_URL=https://monitoring.negative-space.local

# ============================================================================
# AWS/CLOUD - Production (Optional)
# ============================================================================
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
# AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
# SENTRY_DSN=${SENTRY_DSN}

# ============================================================================
# PYTHON WORKERS - Production
# ============================================================================
# Set based on CPU cores: typically cores * 2
PYTHON_WORKERS=8

# ============================================================================
# DOMAIN - Production
# ============================================================================
DOMAIN=negative-space.local
GRAFANA_URL=https://monitoring.negative-space.local
