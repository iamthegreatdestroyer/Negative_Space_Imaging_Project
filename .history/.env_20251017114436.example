# ============================================================================
# NEGATIVE SPACE IMAGING PROJECT - EXPRESS SERVER CONFIGURATION
# ============================================================================
# Copy this file to .env and update values for your environment
# IMPORTANT: Never commit .env file to version control
# ============================================================================

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
NODE_ENV=development
PORT=3000
HOST=0.0.0.0
API_VERSION=v1

# ============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# ============================================================================
DATABASE_URL=postgresql://nsimg_user:secure_password@localhost:5432/negative_space_imaging
DB_POOL_MAX=20
DB_POOL_MIN=2
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000
DB_STATEMENT_TIMEOUT=30000
DB_QUERY_TIMEOUT=30000

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=true
REDIS_TIMEOUT=5000
REDIS_RECONNECT_DELAY=1000
REDIS_MAX_RETRIES=10

# ============================================================================
# JWT AUTHENTICATION
# ============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production-immediately
JWT_EXPIRES_IN=24h
JWT_ALGORITHM=HS256
JWT_REFRESH_EXPIRES_IN=7d

# ============================================================================
# CORS (Cross-Origin Resource Sharing)
# ============================================================================
CORS_ORIGIN=http://localhost:3001,http://localhost:3000
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100
RATE_LIMIT_SKIP_ADMIN=true
RATE_LIMIT_MESSAGE=Too many requests, please try again later

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=debug
REQUEST_LOGGING=true
ERROR_SHOW_STACK=true
LOG_DIR=logs
LOG_FILE_MAX_SIZE=5242880
LOG_MAX_FILES=10
LOG_FORMAT=combined

# ============================================================================
# SECURITY
# ============================================================================
BCRYPT_ROUNDS=10
PASSWORD_MIN_LENGTH=12
SESSION_TIMEOUT=60
ENABLE_HTTPS_ONLY=false
ENABLE_SECURITY_HEADERS=true
ENABLE_HSTS=false
HSTS_MAX_AGE=31536000

# ============================================================================
# APPLICATION FEATURES
# ============================================================================
ENABLE_IMAGE_PROCESSING=true
ENABLE_CACHE=true
CACHE_TTL=3600
MAX_IMAGE_SIZE=100
ALLOWED_FORMATS=jpg,jpeg,png,webp,tiff,bmp

# ============================================================================
# HEALTH CHECK
# ============================================================================
ENABLE_HEALTH_CHECK=true
HEALTH_CHECK_INTERVAL=30
HEALTH_DETAILED_METRICS=true

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================
CLAUDE_API_KEY=sk-ant-...
OPENAI_API_KEY=sk-...
IMAGE_PROCESSING_API_KEY=

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
ENABLE_REQUEST_TRACING=true
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_METRICS=true
METRICS_INTERVAL=60

# ============================================================================
# DEPLOYMENT
# ============================================================================
DEPLOYMENT_ENV=local
APP_VERSION=1.0.0
BUILD_TIMESTAMP=

# ============================================================================
# DEVELOPMENT ONLY
# ============================================================================
DEBUG=false
DEV_SKIP_RATE_LIMIT=false
DEV_SEED_DATABASE=false

# HIPAA Compliance Configuration
HIPAA_ENABLED=true
DATA_ENCRYPTION=true
AUDIT_LOG_ENABLED=true
AUTO_LOGOUT=900000
